<li id="shipping" class="checkout-shipping-address" data-bind="fadeVisible: visible()">
    <div class="message notice"
         visible="isQuoteAddressDeleted && isQuoteAddressLocked" >
        <span>
            <translate args="'The shipping address specified on the quote was deleted from your Address Book.'"></translate>
            <translate args="'To proceed with the checkout, go '"></translate>
            <a attr="href: backQuoteUrl" translate="'back to the quote'"></a>
            <translate args="' and update the shipping address.'"></translate>
        </span>
    </div>
    <div class="message notice"
         visible="isQuoteAddressDeleted && !isQuoteAddressLocked">
        <span>
            <translate args="'The shipping address specified on the quote was deleted from your Address Book. '"></translate>
            <translate args="'To proceed with the checkout, update the shipping address.'"></translate>
        </span>
    </div>
    <div class="step-title"
         data-role="title"
         translate="'Shipping Address'"></div>
    <div id="checkout-step-shipping"
         class="step-content shipping-address-wrapper"
         data-role="content">

        <each if="!quoteIsVirtual" args="getRegion('customer-email')" render=""></each>
        <each args="getRegion('address-list')" render=""></each>
        <each args="getRegion('address-list-additional-addresses')" render=""></each>

        <!-- Address form pop up -->
        <if args="!isFormInline">
            <div class="new-address-popup">
                <button type="button"
                        class="action btn icon-btn btn-full-width btn-border"
                        click="showFormPopUp"
                        visible="(!isNewAddressAdded() || isQuoteAddressDeleted) && !isQuoteAddressLocked">
                    <svg viewBox="0 0 32 32" width="32" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M16 8a1 1 0 011 1v6h6a1 1 0 010 2h-6v6a1 1 0 01-2 0v-6H9a1 1 0 010-2h6V9a1 1 0 011-1z" fill="#F46B0A" fill-rule="evenodd"></path></svg>
                    <span translate="'New Address'"></span>
                </button>
            </div>
            <div id="opc-new-shipping-address"
                 visible="isFormPopUpVisible()"
                 render="shippingFormTemplate"></div>
        </if>

        <each args="getRegion('before-form')" render=""></each>

        <!-- Inline address form -->
        <render if="isFormInline && !hasQuoteShippingAddress" args="shippingFormTemplate"></render>
        <div class="message notice"
             visible="!isQuoteAddressDeleted && isQuoteAddressLocked">
            <span class="link-back">
                <translate args="'Your shipping address is locked. To change your shipping address, go '"></translate>
                <a attr="href: backQuoteUrl"
                   translate="'back to the quote'"></a>
                <span text="'.'"></span>
            </span>
        </div>
    </div>
</li>

<!--Shipping method template-->
<li id="opc-shipping_method"
    class="checkout-shipping-method"
    data-bind="fadeVisible: visible(), blockLoader: isLoading"
    role="presentation">
    <div class="checkout-shipping-method">
        <div class="step-title"
             translate="'Order Summary'"
             data-role="title"></div>
        <div class="shipping-items-html-wrapper" data-bind="html: granQuartzShippingItemsHtml"></div>
        <!-- ko if: granQuartzShippingItemsHtml -->
            <div class="shipping-title shipping-padding-left"
                 translate="'Shipping Methods'"
                 data-role="title"></div>
            <each if="rates().length > 0" args="getRegion('before-shipping-method-form')" render=""></each>
            <div id="checkout-step-shipping_method"
                 class="step-content"
                 data-role="content"
                 role="tabpanel"
                 aria-hidden="false">
                <form id="co-shipping-method-form"
                      class="form methods-shipping"
                      if="rates().length"
                      submit="setShippingInformation"
                      novalidate="novalidate">

                    <render args="shippingMethodListTemplate"></render>
                    <div class="shipping-items-html-wrapper" data-bind="html: manufacturerShippingItemsHtml"></div>

                    <div id="onepage-checkout-shipping-method-additional-load">
                        <each args="getRegion('shippingAdditional')" render=""></each>
                    </div>
                    <div role="alert"
                         if="errorValidationMessage().length"
                         class="message notice">
                        <span text="errorValidationMessage()"></span>
                    </div>
                    <div class="actions-toolbar" id="shipping-method-buttons-container">
                        <div class="primary"
                             visible="!(isQuoteAddressDeleted && isQuoteAddressLocked)">
                            <button data-role="opc-continue" type="submit" class="button action continue primary">
                                <svg viewBox="0 0 32 32" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M11.3 7.3a1 1 0 00-.09 1.31l.08.1L18.6 16l-7.3 7.3a1 1 0 00-.08 1.31l.08.1a1 1 0 001.32.08l.1-.08 8-8a1 1 0 00.08-1.32l-.08-.1-8-8a1 1 0 00-1.42 0z" fill="#FFFFFF" fill-rule="nonzero"></path></svg>
                                <span translate="'Proceed to Payment'"></span>
                            </button>
                        </div>
                    </div>
                </form>
                <div class="no-quotes-block shipping-padding-left"
                     ifnot="rates().length > 0"
                     translate="'This order requires a shipping method that is not available online at this time. Please call customer service at 800-458-6222 to place your order.'"></div>
                <!-- ko if: manufacturerShippingItemsHtml -->
                    <div class="shipping-items-html-wrapper" ifnot="rates().length > 0" data-bind="html: manufacturerShippingItemsHtml"></div>
                <!-- /ko -->
            </div>
        <!-- /ko -->
        <!-- ko ifnot: granQuartzShippingItemsHtml -->
            <!-- ko if: manufacturerShippingItemsHtml -->
                <div class="shipping-items-html-wrapper" ifnot="rates().length > 0" data-bind="html: manufacturerShippingItemsHtml"></div>
                <div id="checkout-step-shipping_method"
                 class="step-content"
                 data-role="content"
                 role="tabpanel"
                 aria-hidden="false">
                <form id="co-shipping-method-form"
                      class="form methods-shipping"
                      if="rates().length"
                      submit="setShippingInformation"
                      novalidate="novalidate">

                    <div class="shipping-items-html-wrapper" data-bind="html: manufacturerShippingItemsHtml"></div>

                    <div id="onepage-checkout-shipping-method-additional-load">
                        <each args="getRegion('shippingAdditional')" render=""></each>
                    </div>
                    <div role="alert"
                         if="errorValidationMessage().length"
                         class="message notice">
                        <span text="errorValidationMessage()"></span>
                    </div>
                    <div class="actions-toolbar" id="shipping-method-buttons-container">
                        <div class="primary"
                             visible="!(isQuoteAddressDeleted && isQuoteAddressLocked)">
                            <button data-role="opc-continue" type="submit" class="button action continue primary">
                                <svg viewBox="0 0 32 32" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M11.3 7.3a1 1 0 00-.09 1.31l.08.1L18.6 16l-7.3 7.3a1 1 0 00-.08 1.31l.08.1a1 1 0 001.32.08l.1-.08 8-8a1 1 0 00.08-1.32l-.08-.1-8-8a1 1 0 00-1.42 0z" fill="#FFFFFF" fill-rule="nonzero"></path></svg>
                                <span translate="'Proceed to Payment'"></span>
                            </button>
                        </div>
                    </div>
                </form>
                </div>
            <!-- /ko -->
        <!-- /ko -->
    </div>
</li>
